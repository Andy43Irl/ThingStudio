<template name="DebugHeader">
	<h1 class="left">Debugger: Live Feed Data</h1>
	<div class="clearfix"></div>
</template>
<template name="DebugBody">
	{{#contentFor region="appHeader" template="DebugHeader"}}{{/contentFor}}
	<div class="top-row">
		<div class="tabs-container">
			<ul class="tabs">
				<li class="tab"><a class="active" href="#subscribed">Subscribe</a></li>
				<li class="tab"><a href="#published">Publish</a></li>
				<li class="tab"><a href="#runtime-errors">Runtime Errors</a></li>
			</ul>
		</div>
		<div class="clearfix"></div>
	</div>
	<div class="debug-page">
		{{> DebugContent}}
	</div>
</template>

<template name="DebugContent">
	<div id="subscribed">
		{{> DebugSubscribe}}
	</div>
	<div id="published">
		{{> DebugPublish}}
	</div>
	<div id="runtime-errors">
		{{> DebugRuntime}}
	</div>
</template>

<template name="DebugOverlay">
	<div id="debug" class="debug z-depth-1">
		<h2><i class="icon-ts-ekg"></i><span>Live Feeds Data</span> <a href="/debug" class="right view-full-debug">Go to Debugger</a></h2>
		<div class="debug-body">
			<h3>Received Messages</h3>
			{{> DebugSubscribe}}
			<h3>Sent Messages</h3>
			{{> DebugPublish}}
			<!-- <div class="screen-errors">Runtime Errors: {{runtimeErrors}}</div> -->

		</div>
	</div>
</template>

<template name="DebugSubscribe">
	<table class="striped">
		<thead>
			<tr>
				<th>Feed Title</th>
				<th>Topic</th>
				<th>Payload</th>
				<th>Count</th>
			</tr>
		</thead>
		<tbody>
			{{#each messages }}
				<tr>
					<td>{{feed}}</td>
					<td>{{topic}}</td>
					<td>{{payload}}</td>
					<td>{{count}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</template>

<template name="DebugPublish">
	<table class="striped">
		<thead>
			<tr>
				<th>Feed Title</th>
				<th>Topic</th>
				<th>Payload</th>
				<th>Count</th>
			</tr>
		</thead>
		<tbody>
			{{#each outbox }}
				<tr>
					<td>{{feed}}</td>
					<td>{{topic}}</td>
					<td>{{payload}}</td>
					<td>{{count}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</template>

<template name="DebugRuntime">
	<p>
		Runtime errors coming soon...
	</p>
</template>
