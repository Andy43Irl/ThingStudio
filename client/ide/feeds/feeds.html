<template name="DataFeedsHeader">
	<h1 class="left">Data Feeds</h1>
	<a href="#" class="btn right header-action-2"><span class="ha2-status status-active"></span>BUTTON</a>
	<a class="header-action-1 clearfix" href="#">Create a new data feed</a>
</template>

<template name="DataFeedsBody">
	{{> autoformModals}}
	{{#contentFor region="appHeader" template="DataFeedsHeader"}}{{/contentFor}}

		<table>
			{{> FeedsTableWidths}}
			<thead>
				<tr cellpadding="10"><th>Feed Title</th><th>Subscription</th><th>Pub/Sub</th><th>Action</th></tr>
			</thead>
			<tbody>
				<tr id="form-insert" class="spacer td-closed"><td></td></tr>
				{{#each feedlist}}
					<tr>
						<td>{{this.title}}</td>
						<td>{{subscription}}</td>	
						<td>{{pubsub}}</td>
						<td><a class="table-action table-edit-item" href="{{pathFor 'View Feed'}}"><i class="mdi-editor-mode-edit"></i></a>{{#afModal classes="table-action table-cancel-item" collection="Feeds" operation="remove" doc=_id title="Deleting Feed" buttonContent="Delete" buttonCancelContent="Cancel"}}<i class="mdi-navigation-close"></i>{{/afModal}}</td>
					</tr>
				{{/each}}
			</tbody>	
		</table>
		{{> DataFeedsNewItem}}
		
</template>

<template name="DataFeedsNewItem">
	<div class="add-new-item">
		{{#autoForm collection="Feeds" id="insertItemForm" type="insert"}}
			<table>
			{{> FeedsTableWidths}}
				<tbody>
					<tr>
						<td>{{> afQuickField name='title' placeholder="Feed Title" class="first"}}</td>
						<td>{{> afQuickField name='subscription' placeholder="Subscription Name"}}</td>
						<td>{{> afQuickField name='pubsub' options="allowed"}}</td>
						<td>
							<button type="submit" class="table-action table-save-new"><i class="mdi-navigation-check"></i></button><button class="table-action table-cancel-new"><i class="mdi-navigation-close"></i></button>
							<div class="tae-cnt"><a href="#" class="table-advanced-edit">Advanced</a></div>
						</td>
					</tr>
				</tbody>
			</table>
			{{> NewItemDivider}}
		{{/autoForm}}
	</div>
</template>

<template name="FeedsTableWidths">
	<colgroup>
		<col style="width: 35%;">
		<col style="width: 35%;">
		<col style="width: 20%;">
		<col style="width: 10%;">
	</colgroup>
</template>

<template name="NewItemDivider">
	<div class="div-container">
		<div class="divider"></div>
		<div class="dd-bg">
			<span class="divider-decoration"><i class="mdi-navigation-expand-less"></i></span>
		</div>
	</div>
</template>
