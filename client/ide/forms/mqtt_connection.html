<template name="insertMqttConnectionForm">
  {{#autoForm collection="Connections" id="insertItemForm" type="insert"}}
  <div id="required">
    <div class="row">
      <div class="col s6">
        {{> afQuickField name='title' placeholder="Connection title" class="first"}}
        {{> afQuickField name='host' placeholder="Hostname"}}
        {{> afQuickField name='port' placeholder="Port"}}
        {{> afQuickField name='protocol' placeholder="Protocol"}}
      </div>
      <div class="col s6">
        <div class="form-group{{#if afFieldIsInvalid name='serverCredentials'}} has-error{{/if}} pos-rel">
          <div data-required="true" class="div-inline">
            {{> afFieldInput name='serverCredentials' template="materialiseCheckbox"}}
          </div>
          <a class="tooltipped ts-tooltip" data-position="top" data-delay="50" data-tooltip="Store credentials at ThingStudio" >?</a>
          {{#if afFieldIsInvalid name='serverCredentials' }}
            <span class="help-block">{{afFieldMessage name='serverCredentials' }}</span>
          {{/if}}
        </div>
        {{> afQuickField name='username' placeholder="Username (optional)"}}
        {{> afQuickField name='password' placeholder="Password (optional)"}}
        {{> afQuickField name='clientId' placeholder="ClientID (optional)"}}
        <!-- {{> afQuickField name='path' placeholder="Path (optional)"}} -->
        <div class="form-group{{#if afFieldIsInvalid name='makeActiveAppConnection'}} has-error{{/if}} pos-rel">
          <div data-required="true" class="div-inline">
            {{> afFieldInput name='makeActiveAppConnection' template="materialiseCheckbox"}}
          </div>
          {{#if afFieldIsInvalid name='serverCredentials' }}
            <span class="help-block">{{afFieldMessage name='serverCredentials' }}</span>
          {{/if}}
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-update right">Create Connection</button>
  </div>
  {{/autoForm}}
</template>

<template name="updateMqttConnectionForm">
  {{#autoForm collection="Connections" id="updateConnectionForm" type="update" doc=this buttonContent="Save"}}
    <div class="row">
      <div class="col s6">
        {{> afQuickField name='title' placeholder="Connection title" class="first"}}
        {{> afQuickField name='host' placeholder="Hostname"}}
        {{> afQuickField name='port' placeholder="Port"}}
        {{> afQuickField name='protocol' placeholder="Protocol"}}
      </div>
      <div class="col s6">
        <div class="form-group{{#if afFieldIsInvalid name='serverCredentials'}} has-error{{/if}} pos-rel">
          <div data-required="true" class="div-inline">
            {{> afFieldInput name='serverCredentials' template="materialiseCheckbox"}}
          </div>
          <a class="tooltipped ts-tooltip" data-position="top" data-delay="50" data-tooltip="Store credentials at ThingStudio" >?</a>
          {{#if afFieldIsInvalid name='serverCredentials' }}
            <span class="help-block">{{afFieldMessage name='serverCredentials' }}</span>
          {{/if}}
        </div>
        {{> afQuickField name='username' placeholder="Username (optional)"}}
        {{> afQuickField name='password' placeholder="Password (optional)"}}
        {{> afQuickField name='clientId' placeholder="ClientID (optional)"}}
        <!-- {{> afQuickField name='path' placeholder="Path (optional)"}} -->
      </div>
    </div>
    <button type="submit" class="btn btn-update right">Update Connection</button>
  {{/autoForm}}
</template>
