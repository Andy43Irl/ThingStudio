<template name="insertScreenForm">
	{{> quickForm collection="Screens" id="insertScreenForm" type="insert" buttonClasses="glyphicon glyphicon-ok btn btn-default" buttonContent="Save" omitFields="html, js"}}
</template>

<template name="OLdupdateScreenForm">
	{{> quickForm collection="Screens" id="updateScreenForm" type="update" doc=this class="qkForm" buttonClasses="glyphicon glyphicon-ok btn btn-default btn-tick" buttonContent="Update" }}
</template>

<template name="updateScreenForm">
	<div class="top-row">
		<div class="col s6 tabs-container">
			<ul class="tabs">
				<li class="tab"><a href="#html">HTML</a></li>
				<li class="tab" id="jstab"><a href="#js">JavaScript</a></li>
				{{#unless safeEdit}}
					<li class="tab"><a href="#preview">Preview</a></li>
				{{/unless}}
				<li class="tab"><a href="#log">Log</a></li>
				<li class="tab"><a href="#properties">Properties</a></li>
				<!-- <li class="tab"><a href="#css">CSS</a></li> -->
			</ul>
		</div>
		<div class="clearfix"></div>
	</div>
	<div class="single-page-container">
		{{#autoForm collection="Screens" id="updateScreenForm" type="update" doc=this }}
			<div id="html">
				{{> Alerts}}
				{{>afQuickField name="html" class="centerField"}}
				<button type="submit" class="btn btn-update right">Update</button>
			</div>
			<div id="js">
				{{> Alerts}}
				{{>afQuickField name="js" class="centerField"}}
				<button type="submit" class="btn btn-update right">Update</button>
			</div>
			{{#unless safeEdit}}
				<div id="preview">
					{{> Template.dynamic template=currentScreen}}
				</div>
			{{/unless}}
		{{/autoForm}}
			<div id="log">
				<div class="alert-log">
					{{#each alerts}}
						<div class="alert {{status}} z-depth-1" role="alert">
							<div class="alert-type {{status}}">{{alertType}}</div>{{message}}
							<a type="button" class="dismiss close right" data-dismiss="alert">dismiss</a>
						</div>
					{{/each}}
				</div>
			</div>
			<div id="properties">
				{{#if isWidget}}
					<div class="col s12 m6">
						<h2>Template Properties</h2>
						{{#autoForm collection="Screens" id="updateScreenForm" type="update" doc=this }}
							{{> afQuickField name="title" class="centerField"}}
							{{> afQuickField name="isWidget" class="centerField"}}
							<button type="submit" class="btn">Save</button>
						{{/autoForm}}
					</div>
					<div class="col s12 m6">
						<h2>Widget Properties</h2>
						{{#with widgetDoc}}
							{{#autoForm collection="Widgets" class="qkForm"  id="updateWidgetForm" type="update" doc=this omitFields="" }}
								<!-- {{> afQuickField name="widgetName" class="centerField"}}
								{{> afQuickField name="widgetInstructions" class="centerField"}}
								{{> afQuickField name="widgetParameters" class="centerField"}} -->
								<p><span class="fwHeavy">Widget Title</span> &mdash; Give your widget a name</p>
								{{> afQuickField name='title' }}
								<p class="fwHeavy">Base Screen</p>
								{{> afQuickField name='baseScreen'}}
								<p class="fwHeavy">Element Name</p>
								{{> afQuickField name='tagName'}}
								<p class="fwHeavy">Parameters</p>
								{{> afQuickField name='parameters'}}
								<button type="submit" class="btn">Save Widget</button>
							{{/autoForm}}
						{{/with}}
					</div>
				{{else}}
					{{#autoForm collection="Screens" id="updateScreenForm" type="update" doc=this }}
						{{> afQuickField name="title" class="centerField"}}
						{{> afQuickField name="isWidget" class="centerField"}}
						<button type="submit" class="btn">Save</button>
					{{/autoForm}}
				{{/if}}
			</div>
			<!-- <div id="css">
				<p>Hi from CSS!</p>
			</div> -->
	</div>
</template>