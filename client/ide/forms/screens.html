<template name="insertScreenForm">
	{{> quickForm collection="Screens" id="insertScreenForm" type="insert" buttonClasses="glyphicon glyphicon-ok btn btn-default" buttonContent="Save" omitFields="html, js"}}
</template>

<template name="OLdupdateScreenForm">
	{{> quickForm collection="Screens" id="updateScreenForm" type="update" doc=this class="qkForm" buttonClasses="glyphicon glyphicon-ok btn btn-default btn-tick" buttonContent="Update" }}
</template>

<template name="updateScreenForm">
	<div class="top-row">
		<div class="col s6 tabs-container">
			<ul class="tabs">
				<li class="tab"><a href="#html">HTML</a></li>
				<li class="tab"><a href="#js">JS (advanced)</a></li>
				{{#unless safeEdit}}
					<li class="tab"><a href="#preview">Preview</a></li>
				{{/unless}}
				<li class="tab"><a href="#log">Log</a></li>
				<li class="tab"><a href="#properties">Properties</a></li>
				<!-- <li class="tab"><a href="#css">CSS</a></li> -->
			</ul>
		</div>
		<div class="clearfix"></div>
	</div>
	<div class="single-page-container">
		{{#autoForm collection="Screens" id="updateScreenForm" type="update" doc=this }}
			
			<!-- {{>afQuickField name="theme" class="centerField"}} -->
			<!-- {{>afQuickField name="isWidget" class="centerField"}}
			{{>afQuickField name="widgetName" class="centerField"}} -->
			<div id="html">
				{{> Alerts}}
				{{>afQuickField name="html" class="centerField"}}
			</div>
			<div id="js">
				{{>afQuickField name="js" class="centerField"}}
			</div>
			{{#unless safeEdit}}
				<div id="preview">
					{{> Template.dynamic template=currentScreen}}
				</div>
			{{/unless}}
			<div id="log">
				<div class="alert-log">
					{{#each alerts}}
						<div class="alert {{status}} z-depth-1" role="alert">
							<div class="alert-type {{status}}">{{alertType}}</div>{{message}}
							<button type="button" class="dismiss close right" data-dismiss="alert">dismiss</button>
						</div>
					{{/each}}
				</div>
			</div>
			<div id="properties">
				{{> afQuickField name="isWidget" class="centerField"}}
				{{> afQuickField name="widgetName" class="centerField"}}
				{{> afQuickField name="widgetInstructions" class="centerField"}}
			</div>
			<!-- <div id="css">
				<p>Hi from CSS!</p>
			</div> -->
			<!-- {{>afQuickField name="updatesHistory"}} -->
			<!-- {{>afQuickField name="title" class="centerField"}}
			{{>afQuickField name="widgetName" class="centerField"}} -->
			<button type="submit" class="btn btn-update right">Update</button>
		{{/autoForm}}
	</div>
</template>