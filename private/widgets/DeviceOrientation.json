{
    "widget": {
        "title": "DeviceOrientation",
        "widgetType": "Library Template"
    },
    "template": {
        "title": "DeviceOrientation",
        "html": "<!-- Replace this content with your own. -->\n<div>{{orientationSupported}}</div>\n{{#with orientationData }}\n    <div>Alpha: {{alpha}}</div>\n    <div>Beta: {{beta}}</div>\n    <div>Gamma: {{gamma}}</div>\n{{/with}}",
        "js": "devOrientHandler = function(ev) {\n    console.log(\"OL: \", ev);\n    data = {alpha: ev.alpha, beta: ev.beta, gamma: ev.gamma};\n    publishFeed(\"Orientation\", {alpha: ev.alpha, beta: ev.beta, gamma: ev.gamma});\n    Session.set(\"DeviceOrientation\", data);\n};\n\n\n\nTemplate[name].onRendered(function(){\n    Session.set(\"DeviceOrientationFeed\", this.feed ? this.feed : \"dummyfeed\")\n});\n\n\nTemplate[name].helpers({\n    orientationSupported: function(){\n        if (window.DeviceOrientationEvent && Session.get(\"DeviceOrientation\").alpha != null) {\n            return \"Gyro outputs on\";\n        } else {\n            return \"Gyro output not supported.\"\n        }\n    },\n    orientationData: function(){\n        return Session.get(\"DeviceOrientation\");\n    }\n});\n\n\n\nif (window.DeviceOrientationEvent) {\n  // Listen for the event and handle DeviceOrientationEvent object\n  window.addEventListener('deviceorientation', devOrientHandler, false);\n}",
        "isWidget": true
    }
}